<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="author" content="David Kirkby">
    <title>DESI3D</title>
    <link rel="stylesheet" href="desi3d.css">
</head>
<body>
    <div id="universe">
        <div id="splash"></div>
    </div>
    <div>
        <p></p>This interactive 3D visualization shows 30 thousand galaxies observed by the <a href="https://www.desi.lbl.gov/">Dark Energy
        Spectroscopic Instrument</a> (DESI) in about 5 hours. DESI targets four types of galaxies that you can toggle
        on/off below:
        <ul>
            <li>BGS: nearby bright galaxies,</li>
            <li>LRG: luminous red galaxies,</li>
            <li>ELG: emission-line galaxies, and</li>
            <li>QSO: galaxies containing a supermassive black hole, known as quasars.</li>
        </ul>
        You can also see thin lines (LYA) in front of the most distant quasars, showing where they backlight the
        tenuous inter-galactic medium to map its contents.</p>
    </div>
    <div id="showTypes"></div>
    <div>
        <p>The volume of space shown here is very long and thin, and would fit behind your palm held at arm's length.
        Use the slider below to select your distance from earth, or click PLAY. When the animation is paused, use
        your mouse or finger to look around at the nearby galaxies.</p>
        <p>Cosmic distance can be measured several ways which are displayed below:
        <ul>
            <li>Redshift measures the stretching of observed wavelengths due to cosmic expansion,</li>
            <li>Comoving distance in Gpc (1 Gigaparsec equals 3.26 billion light years) measures distance in the present universe, and</li>
            <li>Lookback time Gyrs (1 Gigayear equals 1 billion years) measures how long the light we observe today has been traveling.</li>
        </ul></p>
    </div>
    <div id="observerText"></div>
    <div>
        <div id="cameraRedshift" class="inline"></div>
        <div id="reset" class="inline"></div>
    </div>
    <div>
        <p>Our direct measurements of galaxies provide angles and redshifts, but we need to assume a model of
        the cosmic expansion history to convert these to 3D positions in the universe today. The main
        parameters govering the recent expansion are the amounts of matter and dark energy present in the
        universe today.</p>
        <p>Vary the sliders below to change the assumed expansion history and observe the
        effects on the 3D galaxy positions and the age of the universe.  Note that when the two numbers
        do not add up to exactly one, the
        resulting universe is curved, and the familiar rules of Euclidean geometry no longer apply (for example,
        the angles of a large triangle no longer sum to 180 degrees).</p>
    </div>
    <div id="modelText"></div>
    <div>
        <div id="Om0" class="inline boxed"></div>
        <div id="Ode0" class="inline boxed"></div>
    </div>
    <script type="module">
        import {Runtime, Inspector} from "https://cdn.jsdelivr.net/npm/@observablehq/runtime@4/dist/runtime.js";
        import define from "https://api.observablehq.com/@dkirkby/desi3d.js?v=3";
        new Runtime().module(define, name => {
            if(name === "universe") return new Inspector(document.querySelector("#universe"));
            if(name === "viewof cameraRedshift") return new Inspector(document.querySelector("#cameraRedshift"));
            if(name === "observerText") return new Inspector(document.querySelector("#observerText"));
            if(name === "modelText") return new Inspector(document.querySelector("#modelText"));
            if(name === "viewof showTypes") return new Inspector(document.querySelector("#showTypes"));
            if(name === "viewof Om0") return new Inspector(document.querySelector("#Om0"));
            if(name === "viewof Ode0") return new Inspector(document.querySelector("#Ode0"));
            if(name === "reset") return new Inspector(document.querySelector("#reset"));
            return ["animated","dynamic","toggled"].includes(name);
        });
    </script>
</body>
</html>
